class Level < ApplicationRecord
  belongs_to :user
  [:inputs, :outputs, :pieces].each do |method|
      define_method method do
          JSON.parse(self.send("JSON#{method}"))
      end
      define_method "#{method}=" do |arg|
          self.send("#{method}=", args.to_json)
      end
  end

  private

  [:JSONinputs, :JSONoutputs, :JSONpieces].each do |method|
      attr_accessor method
      # define_method method do
          # self[method]
      # end
      # define_method "#{method}=" do
          # write_attribute method, val
      # end
  end
end
